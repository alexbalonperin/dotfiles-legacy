<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
  <title>standard_rake_options (Rake::Application)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre>     <span class="ruby-comment cmt"># File lib/rake/application.rb, line 334</span>
334:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">standard_rake_options</span>
335:       <span class="ruby-identifier">sort_options</span>(
336:         [
337:           [<span class="ruby-value str">'--all'</span>, <span class="ruby-value str">'-A'</span>, <span class="ruby-value str">&quot;Show all tasks, even uncommented ones&quot;</span>,
338:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
339:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_all_tasks</span> = <span class="ruby-identifier">value</span>
340:             }
341:           ],
342:           [<span class="ruby-value str">'--backtrace=[OUT]'</span>, <span class="ruby-value str">&quot;Enable full backtrace.  OUT can be stderr (default) or stdout.&quot;</span>,
343:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
344:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">backtrace</span> = <span class="ruby-keyword kw">true</span>
345:               <span class="ruby-identifier">select_trace_output</span>(<span class="ruby-identifier">options</span>, <span class="ruby-value str">'backtrace'</span>, <span class="ruby-identifier">value</span>)
346:             }
347:           ],
348:           [<span class="ruby-value str">'--comments'</span>, <span class="ruby-value str">&quot;Show commented tasks only&quot;</span>,
349:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
350:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_all_tasks</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">value</span>
351:             }
352:           ],
353:           [<span class="ruby-value str">'--describe'</span>, <span class="ruby-value str">'-D [PATTERN]'</span>, <span class="ruby-value str">&quot;Describe the tasks (matching optional PATTERN), then exit.&quot;</span>,
354:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
355:               <span class="ruby-identifier">select_tasks_to_show</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">:describe</span>, <span class="ruby-identifier">value</span>)
356:             }
357:           ],
358:           [<span class="ruby-value str">'--dry-run'</span>, <span class="ruby-value str">'-n'</span>, <span class="ruby-value str">&quot;Do a dry run without executing actions.&quot;</span>,
359:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
360:               <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">verbose</span>(<span class="ruby-keyword kw">true</span>)
361:               <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">nowrite</span>(<span class="ruby-keyword kw">true</span>)
362:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dryrun</span> = <span class="ruby-keyword kw">true</span>
363:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace</span> = <span class="ruby-keyword kw">true</span>
364:             }
365:           ],
366:           [<span class="ruby-value str">'--execute'</span>,  <span class="ruby-value str">'-e CODE'</span>, <span class="ruby-value str">&quot;Execute some Ruby code and exit.&quot;</span>,
367:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
368:               <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">value</span>)
369:               <span class="ruby-identifier">exit</span>
370:             }
371:           ],
372:           [<span class="ruby-value str">'--execute-print'</span>,  <span class="ruby-value str">'-p CODE'</span>, <span class="ruby-value str">&quot;Execute some Ruby code, print the result, then exit.&quot;</span>,
373:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
374:               <span class="ruby-identifier">puts</span> <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">value</span>)
375:               <span class="ruby-identifier">exit</span>
376:             }
377:           ],
378:           [<span class="ruby-value str">'--execute-continue'</span>,  <span class="ruby-value str">'-E CODE'</span>,
379:             <span class="ruby-value str">&quot;Execute some Ruby code, then continue with normal task processing.&quot;</span>,
380:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">value</span>) }
381:           ],
382:           [<span class="ruby-value str">'--jobs'</span>,  <span class="ruby-value str">'-j [NUMBER]'</span>,
383:             <span class="ruby-value str">&quot;Specifies the maximum number of tasks to execute in parallel. (default:2)&quot;</span>,
384:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">thread_pool_size</span> = [(<span class="ruby-identifier">value</span> <span class="ruby-operator">||</span> <span class="ruby-value">2</span>).<span class="ruby-identifier">to_i</span>,<span class="ruby-value">2</span>].<span class="ruby-identifier">max</span> }
385:           ],
386:           [<span class="ruby-value str">'--job-stats [LEVEL]'</span>,
387:             <span class="ruby-value str">&quot;Display job statistics. LEVEL=history displays a complete job list&quot;</span>,
388:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
389:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^history/i</span>
390:                 <span class="ruby-identifier">options</span>.<span class="ruby-identifier">job_stats</span> = <span class="ruby-identifier">:history</span>
391:               <span class="ruby-keyword kw">else</span>
392:                 <span class="ruby-identifier">options</span>.<span class="ruby-identifier">job_stats</span> = <span class="ruby-keyword kw">true</span>
393:               <span class="ruby-keyword kw">end</span>
394:             }
395:           ],
396:           [<span class="ruby-value str">'--libdir'</span>, <span class="ruby-value str">'-I LIBDIR'</span>, <span class="ruby-value str">&quot;Include LIBDIR in the search path for required modules.&quot;</span>,
397:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">value</span>) }
398:           ],
399:           [<span class="ruby-value str">'--multitask'</span>, <span class="ruby-value str">'-m'</span>, <span class="ruby-value str">&quot;Treat all tasks as multitasks.&quot;</span>,
400:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">always_multitask</span> = <span class="ruby-keyword kw">true</span> }
401:           ],
402:           [<span class="ruby-value str">'--no-search'</span>, <span class="ruby-value str">'--nosearch'</span>, <span class="ruby-value str">'-N'</span>, <span class="ruby-value str">&quot;Do not search parent directories for the Rakefile.&quot;</span>,
403:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nosearch</span> = <span class="ruby-keyword kw">true</span> }
404:           ],
405:           [<span class="ruby-value str">'--prereqs'</span>, <span class="ruby-value str">'-P'</span>, <span class="ruby-value str">&quot;Display the tasks and dependencies, then exit.&quot;</span>,
406:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_prereqs</span> = <span class="ruby-keyword kw">true</span> }
407:           ],
408:           [<span class="ruby-value str">'--quiet'</span>, <span class="ruby-value str">'-q'</span>, <span class="ruby-value str">&quot;Do not log messages to standard output.&quot;</span>,
409:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">verbose</span>(<span class="ruby-keyword kw">false</span>) }
410:           ],
411:           [<span class="ruby-value str">'--rakefile'</span>, <span class="ruby-value str">'-f [FILE]'</span>, <span class="ruby-value str">&quot;Use FILE as the rakefile.&quot;</span>,
412:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
413:               <span class="ruby-identifier">value</span> <span class="ruby-operator">||=</span> <span class="ruby-value str">''</span>
414:               <span class="ruby-ivar">@rakefiles</span>.<span class="ruby-identifier">clear</span>
415:               <span class="ruby-ivar">@rakefiles</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">value</span>
416:             }
417:           ],
418:           [<span class="ruby-value str">'--rakelibdir'</span>, <span class="ruby-value str">'--rakelib'</span>, <span class="ruby-value str">'-R RAKELIBDIR'</span>,
419:             <span class="ruby-value str">&quot;Auto-import any .rake files in RAKELIBDIR. (default is 'rakelib')&quot;</span>,
420:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">rakelib</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">split</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">PATH_SEPARATOR</span>) }
421:           ],
422:           [<span class="ruby-value str">'--require'</span>, <span class="ruby-value str">'-r MODULE'</span>, <span class="ruby-value str">&quot;Require MODULE before executing rakefile.&quot;</span>,
423:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
424:               <span class="ruby-keyword kw">begin</span>
425:                 <span class="ruby-identifier">require</span> <span class="ruby-identifier">value</span>
426:               <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ex</span>
427:                 <span class="ruby-keyword kw">begin</span>
428:                   <span class="ruby-identifier">rake_require</span> <span class="ruby-identifier">value</span>
429:                 <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
430:                   <span class="ruby-identifier">raise</span> <span class="ruby-identifier">ex</span>
431:                 <span class="ruby-keyword kw">end</span>
432:               <span class="ruby-keyword kw">end</span>
433:             }
434:           ],
435:           [<span class="ruby-value str">'--rules'</span>, <span class="ruby-value str">&quot;Trace the rules resolution.&quot;</span>,
436:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace_rules</span> = <span class="ruby-keyword kw">true</span> }
437:           ],
438:           [<span class="ruby-value str">'--silent'</span>, <span class="ruby-value str">'-s'</span>, <span class="ruby-value str">&quot;Like --quiet, but also suppresses the 'in directory' announcement.&quot;</span>,
439:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
440:               <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">verbose</span>(<span class="ruby-keyword kw">false</span>)
441:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">silent</span> = <span class="ruby-keyword kw">true</span>
442:             }
443:           ],
444:           [<span class="ruby-value str">'--suppress-backtrace PATTERN'</span>, <span class="ruby-value str">&quot;Suppress backtrace lines matching regexp PATTERN. Ignored if --trace is on.&quot;</span>,
445:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
446:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">suppress_backtrace_pattern</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>)
447:             }
448:           ],
449:           [<span class="ruby-value str">'--system'</span>,  <span class="ruby-value str">'-g'</span>,
450:             <span class="ruby-value str">&quot;Using system wide (global) rakefiles (usually '~/.rake/*.rake').&quot;</span>,
451:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">load_system</span> = <span class="ruby-keyword kw">true</span> }
452:           ],
453:           [<span class="ruby-value str">'--no-system'</span>, <span class="ruby-value str">'--nosystem'</span>, <span class="ruby-value str">'-G'</span>,
454:             <span class="ruby-value str">&quot;Use standard project Rakefile search paths, ignore system wide rakefiles.&quot;</span>,
455:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">ignore_system</span> = <span class="ruby-keyword kw">true</span> }
456:           ],
457:           [<span class="ruby-value str">'--tasks'</span>, <span class="ruby-value str">'-T [PATTERN]'</span>, <span class="ruby-value str">&quot;Display the tasks (matching optional PATTERN) with descriptions, then exit.&quot;</span>,
458:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
459:               <span class="ruby-identifier">select_tasks_to_show</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">:tasks</span>, <span class="ruby-identifier">value</span>)
460:             }
461:           ],
462:           [<span class="ruby-value str">'--trace=[OUT]'</span>, <span class="ruby-value str">'-t'</span>, <span class="ruby-value str">&quot;Turn on invoke/execute tracing, enable full backtrace. OUT can be stderr (default) or stdout.&quot;</span>,
463:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
464:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace</span> = <span class="ruby-keyword kw">true</span>
465:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">backtrace</span> = <span class="ruby-keyword kw">true</span>
466:               <span class="ruby-identifier">select_trace_output</span>(<span class="ruby-identifier">options</span>, <span class="ruby-value str">'trace'</span>, <span class="ruby-identifier">value</span>)
467:               <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">verbose</span>(<span class="ruby-keyword kw">true</span>)
468:             }
469:           ],
470:           [<span class="ruby-value str">'--verbose'</span>, <span class="ruby-value str">'-v'</span>, <span class="ruby-value str">&quot;Log message to standard output.&quot;</span>,
471:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">verbose</span>(<span class="ruby-keyword kw">true</span>) }
472:           ],
473:           [<span class="ruby-value str">'--version'</span>, <span class="ruby-value str">'-V'</span>, <span class="ruby-value str">&quot;Display the program version.&quot;</span>,
474:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
475:               <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;rake, version #{RAKEVERSION}&quot;</span>
476:               <span class="ruby-identifier">exit</span>
477:             }
478:           ],
479:           [<span class="ruby-value str">'--where'</span>, <span class="ruby-value str">'-W [PATTERN]'</span>, <span class="ruby-value str">&quot;Describe the tasks (matching optional PATTERN), then exit.&quot;</span>,
480:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
481:               <span class="ruby-identifier">select_tasks_to_show</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">:lines</span>, <span class="ruby-identifier">value</span>)
482:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_all_tasks</span> = <span class="ruby-keyword kw">true</span>
483:             }
484:           ],
485:           [<span class="ruby-value str">'--no-deprecation-warnings'</span>, <span class="ruby-value str">'-X'</span>, <span class="ruby-value str">&quot;Disable the deprecation warnings.&quot;</span>,
486:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
487:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">ignore_deprecate</span> = <span class="ruby-keyword kw">true</span>
488:             }
489:           ],
490:         ])
491:     <span class="ruby-keyword kw">end</span></pre>
</body>
</html>