<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
  <title>standard_rake_options (Rake::Application)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre>     <span class="ruby-comment cmt"># File lib/rake/application.rb, line 352</span>
352:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">standard_rake_options</span>
353:       <span class="ruby-identifier">sort_options</span>(
354:         [
355:           [<span class="ruby-value str">'--all'</span>, <span class="ruby-value str">'-A'</span>,
356:             <span class="ruby-value str">&quot;Show all tasks, even uncommented ones&quot;</span>,
357:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
358:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_all_tasks</span> = <span class="ruby-identifier">value</span>
359:             }
360:           ],
361:           [<span class="ruby-value str">'--backtrace=[OUT]'</span>,
362:             <span class="ruby-value str">&quot;Enable full backtrace.  OUT can be stderr (default) or stdout.&quot;</span>,
363:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
364:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">backtrace</span> = <span class="ruby-keyword kw">true</span>
365:               <span class="ruby-identifier">select_trace_output</span>(<span class="ruby-identifier">options</span>, <span class="ruby-value str">'backtrace'</span>, <span class="ruby-identifier">value</span>)
366:             }
367:           ],
368:           [<span class="ruby-value str">'--comments'</span>,
369:             <span class="ruby-value str">&quot;Show commented tasks only&quot;</span>,
370:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
371:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_all_tasks</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">value</span>
372:             }
373:           ],
374:           [<span class="ruby-value str">'--describe'</span>, <span class="ruby-value str">'-D [PATTERN]'</span>,
375:             <span class="ruby-value str">&quot;Describe the tasks (matching optional PATTERN), then exit.&quot;</span>,
376:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
377:               <span class="ruby-identifier">select_tasks_to_show</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">:describe</span>, <span class="ruby-identifier">value</span>)
378:             }
379:           ],
380:           [<span class="ruby-value str">'--dry-run'</span>, <span class="ruby-value str">'-n'</span>,
381:             <span class="ruby-value str">&quot;Do a dry run without executing actions.&quot;</span>,
382:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
383:               <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">verbose</span>(<span class="ruby-keyword kw">true</span>)
384:               <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">nowrite</span>(<span class="ruby-keyword kw">true</span>)
385:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dryrun</span> = <span class="ruby-keyword kw">true</span>
386:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace</span> = <span class="ruby-keyword kw">true</span>
387:             }
388:           ],
389:           [<span class="ruby-value str">'--execute'</span>, <span class="ruby-value str">'-e CODE'</span>,
390:             <span class="ruby-value str">&quot;Execute some Ruby code and exit.&quot;</span>,
391:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
392:               <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">value</span>)
393:               <span class="ruby-identifier">exit</span>
394:             }
395:           ],
396:           [<span class="ruby-value str">'--execute-print'</span>, <span class="ruby-value str">'-p CODE'</span>,
397:             <span class="ruby-value str">&quot;Execute some Ruby code, print the result, then exit.&quot;</span>,
398:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
399:               <span class="ruby-identifier">puts</span> <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">value</span>)
400:               <span class="ruby-identifier">exit</span>
401:             }
402:           ],
403:           [<span class="ruby-value str">'--execute-continue'</span>,  <span class="ruby-value str">'-E CODE'</span>,
404:             <span class="ruby-value str">&quot;Execute some Ruby code, &quot;</span> <span class="ruby-operator">+</span>
405:             <span class="ruby-value str">&quot;then continue with normal task processing.&quot;</span>,
406:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">value</span>) }
407:           ],
408:           [<span class="ruby-value str">'--jobs'</span>,  <span class="ruby-value str">'-j [NUMBER]'</span>,
409:             <span class="ruby-value str">&quot;Specifies the maximum number of tasks to execute in parallel. &quot;</span> <span class="ruby-operator">+</span>
410:             <span class="ruby-value str">&quot;(default is 2)&quot;</span>,
411:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
412:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">thread_pool_size</span> = [(<span class="ruby-identifier">value</span> <span class="ruby-operator">||</span> <span class="ruby-value">2</span>).<span class="ruby-identifier">to_i</span>, <span class="ruby-value">2</span>].<span class="ruby-identifier">max</span>
413:             }
414:           ],
415:           [<span class="ruby-value str">'--job-stats [LEVEL]'</span>,
416:             <span class="ruby-value str">&quot;Display job statistics. &quot;</span> <span class="ruby-operator">+</span>
417:             <span class="ruby-value str">&quot;LEVEL=history displays a complete job list&quot;</span>,
418:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
419:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^history/i</span>
420:                 <span class="ruby-identifier">options</span>.<span class="ruby-identifier">job_stats</span> = <span class="ruby-identifier">:history</span>
421:               <span class="ruby-keyword kw">else</span>
422:                 <span class="ruby-identifier">options</span>.<span class="ruby-identifier">job_stats</span> = <span class="ruby-keyword kw">true</span>
423:               <span class="ruby-keyword kw">end</span>
424:             }
425:           ],
426:           [<span class="ruby-value str">'--libdir'</span>, <span class="ruby-value str">'-I LIBDIR'</span>,
427:             <span class="ruby-value str">&quot;Include LIBDIR in the search path for required modules.&quot;</span>,
428:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">value</span>) }
429:           ],
430:           [<span class="ruby-value str">'--multitask'</span>, <span class="ruby-value str">'-m'</span>,
431:             <span class="ruby-value str">&quot;Treat all tasks as multitasks.&quot;</span>,
432:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">always_multitask</span> = <span class="ruby-keyword kw">true</span> }
433:           ],
434:           [<span class="ruby-value str">'--no-search'</span>, <span class="ruby-value str">'--nosearch'</span>,
435:             <span class="ruby-value str">'-N'</span>, <span class="ruby-value str">&quot;Do not search parent directories for the Rakefile.&quot;</span>,
436:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nosearch</span> = <span class="ruby-keyword kw">true</span> }
437:           ],
438:           [<span class="ruby-value str">'--prereqs'</span>, <span class="ruby-value str">'-P'</span>,
439:             <span class="ruby-value str">&quot;Display the tasks and dependencies, then exit.&quot;</span>,
440:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_prereqs</span> = <span class="ruby-keyword kw">true</span> }
441:           ],
442:           [<span class="ruby-value str">'--quiet'</span>, <span class="ruby-value str">'-q'</span>,
443:             <span class="ruby-value str">&quot;Do not log messages to standard output.&quot;</span>,
444:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">verbose</span>(<span class="ruby-keyword kw">false</span>) }
445:           ],
446:           [<span class="ruby-value str">'--rakefile'</span>, <span class="ruby-value str">'-f [FILE]'</span>,
447:             <span class="ruby-value str">&quot;Use FILE as the rakefile.&quot;</span>,
448:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
449:               <span class="ruby-identifier">value</span> <span class="ruby-operator">||=</span> <span class="ruby-value str">''</span>
450:               <span class="ruby-ivar">@rakefiles</span>.<span class="ruby-identifier">clear</span>
451:               <span class="ruby-ivar">@rakefiles</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">value</span>
452:             }
453:           ],
454:           [<span class="ruby-value str">'--rakelibdir'</span>, <span class="ruby-value str">'--rakelib'</span>, <span class="ruby-value str">'-R RAKELIBDIR'</span>,
455:             <span class="ruby-value str">&quot;Auto-import any .rake files in RAKELIBDIR. &quot;</span> <span class="ruby-operator">+</span>
456:             <span class="ruby-value str">&quot;(default is 'rakelib')&quot;</span>,
457:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
458:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">rakelib</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">split</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">PATH_SEPARATOR</span>)
459:             }
460:           ],
461:           [<span class="ruby-value str">'--require'</span>, <span class="ruby-value str">'-r MODULE'</span>,
462:             <span class="ruby-value str">&quot;Require MODULE before executing rakefile.&quot;</span>,
463:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
464:               <span class="ruby-keyword kw">begin</span>
465:                 <span class="ruby-identifier">require</span> <span class="ruby-identifier">value</span>
466:               <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ex</span>
467:                 <span class="ruby-keyword kw">begin</span>
468:                   <span class="ruby-identifier">rake_require</span> <span class="ruby-identifier">value</span>
469:                 <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
470:                   <span class="ruby-identifier">raise</span> <span class="ruby-identifier">ex</span>
471:                 <span class="ruby-keyword kw">end</span>
472:               <span class="ruby-keyword kw">end</span>
473:             }
474:           ],
475:           [<span class="ruby-value str">'--rules'</span>,
476:             <span class="ruby-value str">&quot;Trace the rules resolution.&quot;</span>,
477:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace_rules</span> = <span class="ruby-keyword kw">true</span> }
478:           ],
479:           [<span class="ruby-value str">'--silent'</span>, <span class="ruby-value str">'-s'</span>,
480:             <span class="ruby-value str">&quot;Like --quiet, but also suppresses the &quot;</span> <span class="ruby-operator">+</span>
481:             <span class="ruby-value str">&quot;'in directory' announcement.&quot;</span>,
482:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
483:               <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">verbose</span>(<span class="ruby-keyword kw">false</span>)
484:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">silent</span> = <span class="ruby-keyword kw">true</span>
485:             }
486:           ],
487:           [<span class="ruby-value str">'--suppress-backtrace PATTERN'</span>,
488:             <span class="ruby-value str">&quot;Suppress backtrace lines matching regexp PATTERN. &quot;</span> <span class="ruby-operator">+</span>
489:             <span class="ruby-value str">&quot;Ignored if --trace is on.&quot;</span>,
490:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
491:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">suppress_backtrace_pattern</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>)
492:             }
493:           ],
494:           [<span class="ruby-value str">'--system'</span>,  <span class="ruby-value str">'-g'</span>,
495:             <span class="ruby-value str">&quot;Using system wide (global) rakefiles &quot;</span> <span class="ruby-operator">+</span>
496:             <span class="ruby-value str">&quot;(usually '~/.rake/*.rake').&quot;</span>,
497:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">load_system</span> = <span class="ruby-keyword kw">true</span> }
498:           ],
499:           [<span class="ruby-value str">'--no-system'</span>, <span class="ruby-value str">'--nosystem'</span>, <span class="ruby-value str">'-G'</span>,
500:             <span class="ruby-value str">&quot;Use standard project Rakefile search paths, &quot;</span> <span class="ruby-operator">+</span>
501:             <span class="ruby-value str">&quot;ignore system wide rakefiles.&quot;</span>,
502:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">ignore_system</span> = <span class="ruby-keyword kw">true</span> }
503:           ],
504:           [<span class="ruby-value str">'--tasks'</span>, <span class="ruby-value str">'-T [PATTERN]'</span>,
505:             <span class="ruby-value str">&quot;Display the tasks (matching optional PATTERN) &quot;</span> <span class="ruby-operator">+</span>
506:             <span class="ruby-value str">&quot;with descriptions, then exit.&quot;</span>,
507:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
508:               <span class="ruby-identifier">select_tasks_to_show</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">:tasks</span>, <span class="ruby-identifier">value</span>)
509:             }
510:           ],
511:           [<span class="ruby-value str">'--trace=[OUT]'</span>, <span class="ruby-value str">'-t'</span>,
512:             <span class="ruby-value str">&quot;Turn on invoke/execute tracing, enable full backtrace. &quot;</span> <span class="ruby-operator">+</span>
513:             <span class="ruby-value str">&quot;OUT can be stderr (default) or stdout.&quot;</span>,
514:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
515:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">trace</span> = <span class="ruby-keyword kw">true</span>
516:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">backtrace</span> = <span class="ruby-keyword kw">true</span>
517:               <span class="ruby-identifier">select_trace_output</span>(<span class="ruby-identifier">options</span>, <span class="ruby-value str">'trace'</span>, <span class="ruby-identifier">value</span>)
518:               <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">verbose</span>(<span class="ruby-keyword kw">true</span>)
519:             }
520:           ],
521:           [<span class="ruby-value str">'--verbose'</span>, <span class="ruby-value str">'-v'</span>,
522:             <span class="ruby-value str">&quot;Log message to standard output.&quot;</span>,
523:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-constant">Rake</span>.<span class="ruby-identifier">verbose</span>(<span class="ruby-keyword kw">true</span>) }
524:           ],
525:           [<span class="ruby-value str">'--version'</span>, <span class="ruby-value str">'-V'</span>,
526:             <span class="ruby-value str">&quot;Display the program version.&quot;</span>,
527:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
528:               <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;rake, version #{RAKEVERSION}&quot;</span>
529:               <span class="ruby-identifier">exit</span>
530:             }
531:           ],
532:           [<span class="ruby-value str">'--where'</span>, <span class="ruby-value str">'-W [PATTERN]'</span>,
533:             <span class="ruby-value str">&quot;Describe the tasks (matching optional PATTERN), then exit.&quot;</span>,
534:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
535:               <span class="ruby-identifier">select_tasks_to_show</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">:lines</span>, <span class="ruby-identifier">value</span>)
536:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">show_all_tasks</span> = <span class="ruby-keyword kw">true</span>
537:             }
538:           ],
539:           [<span class="ruby-value str">'--no-deprecation-warnings'</span>, <span class="ruby-value str">'-X'</span>,
540:             <span class="ruby-value str">&quot;Disable the deprecation warnings.&quot;</span>,
541:             <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
542:               <span class="ruby-identifier">options</span>.<span class="ruby-identifier">ignore_deprecate</span> = <span class="ruby-keyword kw">true</span>
543:             }
544:           ],
545:         ])
546:     <span class="ruby-keyword kw">end</span></pre>
</body>
</html>