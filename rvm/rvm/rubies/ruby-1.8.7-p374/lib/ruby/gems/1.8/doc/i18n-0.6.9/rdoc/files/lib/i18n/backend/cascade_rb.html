<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: cascade.rb</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>cascade.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>lib/i18n/backend/cascade.rb
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Fri Jan 31 19:21:41 +0900 2014</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
The Cascade module adds the ability to do cascading lookups to backends
that are compatible to the Simple backend.
</p>
<p>
By cascading lookups we mean that for any key that can not be found the
Cascade module strips one segment off the scope part of the key and then
tries to look up the key in that scope.
</p>
<p>
E.g. when a lookup for the key :&quot;foo.bar.baz&quot; does not yield a
result then the segment :bar will be stripped off the scope part
:&quot;foo.bar&quot; and the new scope :foo will be used to look up the key
:baz. If that does not succeed then the remaining scope segment :foo will
be omitted, too, and again the key :baz will be looked up (now with no
scope).
</p>
<p>
To enable a cascading lookup one passes the :cascade option:
</p>
<pre>
  I18n.t(:'foo.bar.baz', :cascade =&gt; true)
</pre>
<p>
This will return the first translation found for :&quot;foo.bar.baz&quot;,
:&quot;foo.baz&quot; or :baz in this order.
</p>
<p>
The cascading lookup takes precedence over resolving any given defaults.
I.e. defaults will kick in after the cascading lookups haven&#8216;t
succeeded.
</p>
<p>
This behavior is useful for libraries like ActiveRecord validations where
the library wants to give users a bunch of more or less fine-grained
options of scopes for a particular key.
</p>
<p>
Thanks to Clemens Kofler for the initial idea and implementation! See <a
href="http://github.com/clemens/i18n-cascading-backend">github.com/clemens/i18n-cascading-backend</a>
</p>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>